"#############################################################################"
,"#"
,"# Macro file demo for SimTarget in interactive session"
,"#"
,"#############################################################################"
,""
,"#############################################################################"
,"# Initialization settings"
,"#############################################################################"
,""
,"# Set some default verbose"
,"/control/verbose 2"
,"/control/saveHistory"
,"/run/verbose 2"
,""
,"# I/O & Analysis"
,"/MACE/Analysis/SetResultName                          SimTarget_result"
,"/MACE/Analysis/EnableYieldAnalysis                    true"
,"/MACE/Analysis/SetDetectableRegion                    abs(x)>30 || abs(y)>30 || z>0"
,""
,"# Geometry"
,"/MACE/Geometry/SetWorldHalfExtent                     50 50 50 cm"
,"/MACE/Geometry/SetEnableDegrader                      true"
,"/MACE/Geometry/SetDegraderWidth                       6 cm"
,"/MACE/Geometry/SetDegraderThickness                   420 um"
,"/MACE/Geometry/SetDistanceBetweenDegraderAndTarget    5 mm"
,"/MACE/Geometry/SetEnableBeamMonitor                   false"
,"/MACE/Geometry/SetBeamMonitorWidth                    4 cm"
,"/MACE/Geometry/SetBeamMonitorThickness                500 um"
,"/MACE/Geometry/SetDistanceBetweenBeamMonitorAndTarget 15 mm"
,"/MACE/Geometry/SetTargetWidth                         6 cm"
,"/MACE/Geometry/SetTargetThickness                     1 cm"
,"/MACE/Geometry/SetTargetDensity                       30 mg/cm3"
,"/MACE/Geometry/SetTemperature                         293.15 K"
,""
,"# Initialize kernel"
,"/run/initialize"
,""
,"# Muon beam properties"
,"/MACE/Generator/SurfaceMuon/SetMomentum               28 MeV"
,"/MACE/Generator/SurfaceMuon/SetMomentumSpreadRMS      1.4 MeV"
,"/MACE/Generator/SurfaceMuon/SetBeamProfileRMS         5 mm"
,"/MACE/Generator/SurfaceMuon/SetVertexZ                -5 cm"
,"/MACE/Generator/SurfaceMuon/SetMuonsForEachG4Event    10"
,""
,"# Set physics"
,"/MACE/Physics/MuoniumPhysics/Formation/SetFormationProbability     0.6"
,"/MACE/Physics/MuoniumPhysics/Formation/SetConversionProbability    0"
,"/MACE/Physics/MuoniumPhysics/Transport/SetMeanFreePath             0.2 um"
,""
,"# kill secondaries"
,"/MACE/Action/SetKillIrrelevants    true"
,""
,"# Ablated target with pitch 15um, diameter 86um"
,"/MACE/Geometry/SetFineStructure (z<-5 || x<-20||x>20 || y<-20||y>20) || ((x-(round((x-y/sqrt(3))/0.101)+round(2/sqrt(3)*y/0.101)/2)*0.101)^2+(y-sqrt(3)/2*round(2/sqrt(3)*y/0.101)*0.101)^2>0.086*0.086/4)"

#if MACE_WITH_G4VIS

,"#############################################################################"
,"# Visualization settings"
,"#############################################################################"
,""
,"/vis/open OGL"
,""
,"/vis/viewer/set/autoRefresh false"
,"/vis/verbose errors"
,""
,"/vis/drawVolume"
,""
,"/vis/viewer/set/viewpointVector -1 0.5 0.5"
,"#/vis/viewer/set/lightsVector -1 1 1"
,"#/vis/viewer/set/rotationStyle freeRotation"
,"/vis/viewer/set/projection p"
,"/vis/viewer/set/style s"
,"/vis/viewer/set/auxiliaryEdge false"
,"/vis/viewer/set/lineSegmentsPerCircle 100"
,"/vis/viewer/zoom 10"
,""
,"# Colors"
,"/vis/geometry/set/colour BeamMonitor     0     1     1     1     0.5"
,"/vis/geometry/set/colour BeamDegrader    0     1     1     1     0.5"
,"/vis/geometry/set/colour Target          0     1     1     1     0.5"
,"/vis/geometry/set/colour World           0     1     1     1     0.01"
,""
,"/vis/scene/add/date"
,"/vis/scene/add/axes 0 0 0 1 cm"
,"/vis/scene/add/trajectories smooth #rich"
,"/vis/scene/add/hits"
,""
,"/vis/filtering/trajectories/create/particleFilter"
,"/vis/filtering/trajectories/particleFilter-0/add e+"
,"/vis/filtering/trajectories/particleFilter-0/add e-"
,"/vis/filtering/trajectories/particleFilter-0/add gamma"
,"/vis/filtering/trajectories/particleFilter-0/add M"
,"/vis/filtering/trajectories/particleFilter-0/add -M"
,"/vis/filtering/trajectories/particleFilter-0/add mu+"
,""
,"/vis/modeling/trajectories/create/drawByParticleID"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setDrawAuxPts false"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setAuxPtsSize 2"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setAuxPtsSizeType screen"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setAuxPtsType dots"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setDrawLine true"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setLineWidth 2"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setDrawStepPts true"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setStepPtsSize 2"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setStepPtsSizeType screen"
,"/vis/modeling/trajectories/drawByParticleID-0/default/setStepPtsType dots"
,""
,"/vis/modeling/trajectories/drawByParticleID-0/setRGBA M 1 0 1 1"
,"/vis/modeling/trajectories/drawByParticleID-0/setRGBA anti_M 1 0 1 1"
,""
,"/vis/scene/endOfEventAction accumulate"
,""
,"/vis/verbose warnings"
,"/vis/viewer/set/autoRefresh true"

#endif
